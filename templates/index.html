{% extends "base.html" %}
{% block title %}Home - Campus Scheduler{% endblock %}
{% block content %}
    <div class="gradient-circle"></div>
    <div class="gradient-circle"></div>
    <div class="gradient-circle"></div>
    <div class="gradient-circle"></div>

    <section class="hero">
        <h1>
            {% if user %}Welcome, <span class="text-gradient">{{ user }}</span>{% else %}Welcome{% endif %} to Campus
            Event & Task Scheduler
        </h1>
        <p>
            Your all-in-one solution for managing campus events and project tasks seamlessly. Dive in to explore and
            organize!
        </p>
        <div class="hero-features">
            <span><i class="fas fa-tasks"></i> Task Management</span>
            <span><i class="fas fa-calendar-alt"></i> Event Scheduling</span>
            <span><i class="fas fa-project-diagram"></i> Project Tracking</span>
            <span><i class="fas fa-check-circle"></i> Approval Workflows</span>
        </div>
        <div class="hero-buttons">
            <a href="{{ url_for('projects') }}" class="btn btn-primary">
                <i class="fas fa-arrow-right"></i> Explore Projects
            </a>
            <a class="btn btn-github" href="https://github.com/awerks/se_project_1000" target="_blank">
                <i class="fa-brands fa-github"></i>
                View on GitHub
            </a>
        </div>
    </section>

    <!--Cards-->

    <section class="cards-grid">
        <div class="card">
            <i class="fas fa-tasks"></i>
            <h3>Task Management</h3>
            <p>Plan, assign, and track tasks seamlessly with due-dates, priorities,
                and progress indicators, all in one place.
            </p>
        </div>

        <div class="card">
            <i class="fas fa-calendar-alt"></i>
            <h3>Event Scheduling</h3>
            <p>Organize meetings and milestones on an interactive calendar, send invites and 
                get automatic reminders.
            </p>
        </div>

        <div class="card">
            <i class="fas fa-check-circle"></i>
            <h3>Approval Workflows</h3>
            <p>Define custom approvals, notify stakeholders, and keep full audit trail of
                 decisions and sign-offs.</p>
        </div>

        <div class="card">
            <i class="fas fa-project-diagram"></i>
            <h3>Project Tracking</h3>
            <p>Visualize timelines, Gantt charts, and resource allocation so you always know
                where every project stands.
            </p>
        </div>
    </section>



    <!-- FAQ section -->
    <section class="faq">
        <h2>Frequently Asked Questions</h2>

        <button class="accordion" id="accordion-btn-1" aria-expanded="false" aria-controls="panel-1">
            What is Campus Scheduler?
            <i class="fas fa-caret-down"></i>
        </button>
        <div class="panel" id="panel-1" role="region" aria-labelledby="accordion-btn-1" aria-hidden="true">
            <p>
                Campus Scheduler is your <strong>all-in-one solution</strong> for managing everyday campus activities.
                With it, you can schedule appointments with <em>professors, supervisors, colleagues, and more</em>. It
                provides a comprehensive way to manage your time and stay up to date with your work by allowing you to
                receive or assign projects and tasks, as well as leave comments on them.
            </p>
        </div>

        <button class="accordion" id="accordion-btn-2" aria-expanded="false" aria-controls="panel-2">
            Why use our product?
            <i class="fas fa-caret-down"></i>
        </button>
        <div class="panel" id="panel-2" role="region" aria-labelledby="accordion-btn-2" aria-hidden="true">
            <p>
                Our product empowers users to manage their time more efficiently than ever before. Campus Scheduler
                offers exceptional flexibility for organizing meetings, activities, and projects with just a few simple
                interactions.
            </p>
        </div>

        <button class="accordion" id="accordion-btn-3" aria-expanded="false" aria-controls="panel-3">
            Can I schedule meetings inside Campus Scheduler?
            <i class="fas fa-caret-down"></i>
        </button>
        <div class="panel" id="panel-3" role="region" aria-labelledby="accordion-btn-3" aria-hidden="true">
            <p>
                <strong>Yes!</strong> Campus Scheduler allows you—<em>or your supervisor</em>—to schedule appointments
                and meetings with ease.
            </p>
        </div>

        <button class="accordion" id="accordion-btn-4" aria-expanded="false" aria-controls="panel-4">
            Can I set deadlines for my employees?
            <i class="fas fa-caret-down"></i>
        </button>
        <div class="panel" id="panel-4" role="region" aria-labelledby="accordion-btn-4" aria-hidden="true">
            <p>
                <strong>Yes!</strong> Campus Scheduler enables project managers to
                <em>set deadlines for their employees</em>. Everyone can view these deadlines on the shared calendar and
                see how much time remains before they are due.
            </p>
        </div>
    </section>

    <div class="text-center"></div>
    <script>
        const acc = document.getElementsByClassName("accordion");
        for (let i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                this.setAttribute("aria-expanded", this.classList.contains("active"));
                const panel = this.nextElementSibling;
                panel.setAttribute("aria-hidden", !this.classList.contains("active"));
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        }
    </script>

    <script>
        const cards = document.querySelectorAll('.card');   //grabing all cards

        cards.forEach(card => {
            card.addEventListener('mousemove', handleMove);
            card.addEventListener('mouseleave', handleLeave);
        });

        function handleMove(e) {
            const card = e.currentTarget;
            const rect = card.getBoundingClientRect();

            
            const px = (e.clientX - rect.left)  / rect.width  - 0.5;    //this calculates pointer position from center [-0.5 .. +0.5], like on w3 school
            const py = (e.clientY - rect.top)   / rect.height - 0.5;

            const rotMax = 13;  //max rotation in degrees, but I think 13 is not that much, it looks similar to github

            const rotY =  px * rotMax;      //invert Y so moving up tilts toward you
            const rotX = -py * rotMax;

            const scale = 1.03;     //slightly scale up on hover

            card.style.transform =
            `perspective(1000px)
            rotateX(${rotX}deg)
            rotateY(${rotY}deg)
            scale(${scale})`;
        }

        function handleLeave(e) {
            const card = e.currentTarget;
            card.style.transform = 
            `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
        }
    </script>
{% endblock %}
